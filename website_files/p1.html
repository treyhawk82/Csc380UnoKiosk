<!DOCTYPE html>
<html lang="eng">
<head>
<title>Player 1</title>

<head charset="utf-8">
	
<style>
body{
background-color:#000000;
}

div{
width: 150px;
height: 150px;
overflow: scroll;
}

</style>
</head>
<body>
<p>

</p>
<p style="padding-left:75%">
<button type="button" onclick="uno()" id="uno" style="padding: 15% 20%">Uno</button>
</p>

<p align="center" style="">
<button type="button" onclick="select()" id="select" style="padding: 5% 10%; background-color:green; color:white; text-decoration: none;">Play Card</button>
</p>

<script>
var connection = new WebSocket('ws://127.0.0.1:4444');
var actions = 'No action taken';
var serverString;
var serverStringArray;
var topOfDiscardPile;
var playerNumber;
var player0NoOfCards;
var player1NoOfCards;
var player2NoOfCards;
var player3NoOfCards;
var playerHand;
var cardsArray;
var isTurnOfPlayer;

function uno() {
    window.alert(playerNumber);
}

connection.onopen = function () {
console.log('Connected!');
connection.send('Ping'); // Send the message 'Ping' to the server
};

// Log errors
connection.onerror = function (error) {
console.log('WebSocket Error ' + error);
};


// Log messages from the server
connection.onmessage = function (e) {
console.log('Server: ' + e.data);
serverString = e.data;
serverStringArray = serverString.split('-');
topOfDiscardPile = serverStringArray[0];
playerNumber = serverStringArray[1];
player0NoOfCards = serverStringArray[2];
player1NoOfCards = serverStringArray[3];
player2NoOfCards = serverStringArray[4];
player3NoOfCards = serverStringArray[5];
playerHand = serverStringArray[6];
isTurnOfPlayer = serverStringArray[7];
cardsArray = playerHand.split('x');


console.log(serverString);
console.log(topOfDiscardPile + " = top of discard pile");
console.log(playerNumber + " = current player number");
console.log(player0NoOfCards + " = player 0 # cards");
console.log(player1NoOfCards + " = player 1 # cards");
console.log(player2NoOfCards + " = player 2 # cards");
console.log(player3NoOfCards + " = player 3 # cards");
console.log(playerHand + " = complete hand of player " + playerNumber);
for(var i = 0; i < cardsArray.length; i++){
console.log(cardsArray[i] + " = card #" + i);
}
console.log(isTurnOfPlayer);
};

var colours = ['#00D7FC', '#FF6866', '#FFEA5C', '#35FFAF'];

setInterval(function () {
connection.send('update');
document.body.style.backgroundColor = colours[playerNumber];
}, 2000);
</script>

<div>

</div>

</html>